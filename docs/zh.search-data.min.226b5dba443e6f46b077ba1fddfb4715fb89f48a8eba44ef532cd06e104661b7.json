[{"id":0,"href":"/epic-awesome-gamer/zh/docs/player/cli/overview/","title":"Overview","section":"脚手架指令","content":"V2RSS 脚手架指令\r#\r\r基础指令\r#\r\rscaffold ping\r#\r\r测试 Redis 数据库连接。\r\rscaffold build\r#\r\r在 Ubuntu 中构建基础运行环境。\r\r\r订阅管理\r#\r\rscaffold pool\r#\r\r订阅池的命令行管理工具。功能包括：剔除 alive_pool 中的失效订阅或过期订阅，输出订阅池状态等。\r\r\r\r系统任务\r#\r\rscaffold deploy\r#\r\r部署定时任务节点。\r\rscaffold synergy\r#\r\r部署协同工作节点。\r\r\rscaffold server\r#\r\r部署 PRODUCTION 接口服务器。\r\rscaffold entropy\r#\r\r采集队列的命令行管理工具。功能包括：更新待办任务、更新采集队列容量，检查待办任务心跳，输出采集队列摘要信息。\r\r\r高级指令\r#\r\rscaffold mining\r#\r\r采集、清洗、分类、存储暴露在公网上的 SSPanel-Uim 站点。\r\rscaffold spawn\r#\r\r释放所有本机采集实例，基于 gevent 并发执行。\r\r\r实验功能\r#\r\rscaffold ash\r#\r\r通过设定的 threshold 审查订阅池，清洗出各类订阅中的优质节点，重新排列组合生成可被 Clash 吸收的规则的 config.yaml ；自动打开 Clash 导入配置文件。\r\r\r\r"},{"id":1,"href":"/epic-awesome-gamer/zh/docs/user/quick-start/","title":"快速上手","section":"使用指南","content":"快速上手\r#\r\r服务须知\r#\r\r 确保运行生产环境的云服务器至少有 2C2G 以上的性能冗余空间； 本项目尚未实现无服务（云函数）、容器、青龙面板等第三方服务接口； 本项目暂不支持 2FA Challenge，若你的账号设置了二步验证，本项目无法正常运行； 不要在 Fork 项目后以任何形式修改工作流并加上 schedule 触发器启动定时任务。若你使用私有的工作流拷贝并使用本项目源码，请确保工作流每周最多触发一次； 本项目开源免费，仅供学习研究，禁止任何人使用本项目及其分支提供任何形式的收费代理服务； 二次开发请遵循 GNU General Public License v3.0 许可协议。  下载安装\r#\r\rLinux(Ubuntu)\r本节以 Ubuntu 20.04 TLS 系统环境为例引导玩家快速实现可供生产部署的 claim 脚手架接口指令。\n在开始如下操作之前，作者默认你已在当前状态机中配置了 Python3.8+ 开发环境，并了解 tmux ，git 以及基础的 linux 指令。\n  拉取项目源码\ngit clone https://github.com/QIN2DIM/epic-awesome-gamer /home/epic   进入工作空间\n此处使用了终端会话管理工具 tmux，请提前安装。\ncd /home/epic \u0026amp;\u0026amp; tmux new-session -s epic   拉取项目依赖\n# /home/epic pip install -r ./requirements.txt   初始化脚手架\n# /home/epic/src cd ./src \u0026amp;\u0026amp; python3 main.py \u0026amp;\u0026amp; export LANG=zh_CN.UTF8   Windows\r本节以 Pycharm + Anaconda 开发环境为例引导玩家快速实现可供生产部署的 claim 脚手架接口指令。\n在开始如下操作之前，作者默认你已具备一定的 Python 项目开发经验，了解常见的报错类型及应对方案，熟悉 Pycharm 开发环境。\n  拉取项目源码\n以你喜欢的方式克隆项目源码。\n进入 项目首页 点击「Code」，点击 「Open with GitHub Desktop」或「Download ZIP」下载源码。\n  进入工作空间\n使用 Pycharm 打开项目，将 src 目录标记为「源码根」。给项目选择一个 Python3.8+ 的开发环境。\n  初始化工作空间\n打开 Pycahrm 中的 Terminal 终端，在项目根目录下执行如下代码初始化工作空间。\npip install -r requirements.txt \u0026amp;\u0026amp; cd src \u0026amp;\u0026amp; python main.py   MacOS\rGitHub Actions\r📌 本方案已弃用，请不要在工作流中添加 schedule 运行定时任务！\r\r引言\r#\r\r本节以 Workflows（查看源码） 为例引导玩家基于本机环境熟悉并快速实现脚手架 Get 指令，成为 Epic免费人。\n在 GitHub Actions 上运行 Get 指令是本项目的最佳实践方案，请在 fork 项目后依次实现下文所述配置。\n当然，如果你本身就对工作流十分了解，以下手工配置的总耗时不会超过30秒（想不起账号密码的话另说233\u0026hellip;）。\n配置环境密钥\r#\r\r 进入自己的项目页面，依次进入 「Settings」「Secrets」，点击 New repository secret ，分别创建环境密钥 EPIC_EMAIL 以及 EPIC_PASSWORD。变量名必须大写。脚手架演示指令不作质量担保，所以此处你需要填入正确无误的账号信息。 密钥创建后的页面截图如下所示：  \r运行工作流\r#\r\r 进入到自己的项目页面，进入「Actions」 运行工作流，点击 Run Workflow 。  \r 等待窗口顶部弹出提示 Workflow run was successfully requested. 后重新进入「Actions」页面，可以看到工作流已经启动，可以点进去查看运行过程，等待结束即可。  \r​\t展开 Workflow 运行截图（参考）\n\r\r\r\r\r基础用法\r#\r\r  修改目录下的 config.yaml 配置文件\n[必选项] 配置 EPIC_EMAIL 以及 EPIC_PASSWORD 项目才能正常构建。\n[可选项] 配置消息推送服务。本项目借助 Apprise 简化推送引擎。\n  Scaffold Challenge\n手动更新身份令牌。若挑战断言失败超过3次，你的账号配置极有可能存在问题。\n系统不会去验证你的账号信息是否填写正确，这是个徒增功耗且非常不安全的行为，所以，在项目启动前，你需要填入正确无误的账号信息。\n身份令牌缓存成功后，你将享有短暂的免验证权限，如下脚手架指令将畅通无阻。\nLinux\r# /home/epic/src python3 main.py challenge Windows\rpython main.py challenge MacOS\rpython3 main.py challenge \r  Scaffold Claim\nclaim 做的事非常简单，获取本周促销数据，分析是否有待认领的周免游戏，根据分析结果执行相关任务。\nclaim 是系统级指令 deploy 的单步子任务，在上述业务结束后，会根据你配置的 pusher 推送追踪日志（若配置无效则不发）。 Linux\r# /home/epic/src python3 main.py claim Windows\rpython main.py claim MacOS\rpython3 main.py claim \r  Scaffold Get\n 「我可以不玩但不能没有。」—— 鲁·克莱摩·迅\n get 只做一件事，搬空免费商店！\n这是个趣味性和观赏性都拉满的一次性任务。系统会根据你的设备性能发起最高 4 协程并发的驱动任务，为你节省扫荡时间。\n显然地，这是一项对操作系统内存和网络I/O要求都不低的任务，如果你嫌这五六十款（不同地区权限不同）多余的常驻免费游戏会影响你翻找游戏库的效率，请速速退朝。\nLinux\r# /home/epic/src python3 main.py get Windows\rpython main.py get MacOS\rpython3 main.py get \r  查看游戏库\r#\r\r以你喜欢的方式查看自己的游戏库。如果能实现下图所示效果，说明你也成为了 Epic免费人！\nHappy Freebie Claiming\r\r\r\r\r"},{"id":2,"href":"/epic-awesome-gamer/zh/docs/player/cli/ping/","title":"Scaffold Ping","section":"脚手架指令","content":"Scaffold Ping\r#\r\rNAME\r#\r\rmain.py ping - 测试 RedisNode 连接\nSYNOPSIS\r#\r\rmain.py ping - DESCRIPTION\r#\r\r测试数据库连接。这是个不常用的功能，仅会在新环境首次创建时使用，如 在 GitHub Actions 中检查配置是否正确；在本地初次调试时，检查配置文件中 REDIS_NODE 是否配置正确等。\n"},{"id":3,"href":"/epic-awesome-gamer/zh/docs/player/getting-started/install-v2rss/","title":"源码下载","section":"开始使用","content":"源码下载\r#\r\r"},{"id":4,"href":"/epic-awesome-gamer/zh/docs/player/getting-started/basic-usage/","title":"基本用法","section":"开始使用","content":"基本用法\r#\r\r"},{"id":5,"href":"/epic-awesome-gamer/zh/docs/player/getting-started/directory-structure/","title":"目录结构","section":"开始使用","content":"目录结构\r#\r\rNew Project Scaffolding\r#\r\r.\r├── examples\r├── src\r│ ├── apis\r│ ├── database\r│ ├── model\r│ ├── services\r│ ├── config.yaml\r│ ├── config-sample.yaml\r│ └── main.py\r└── requirements.txt\rDiretory Structure Explained\r#\r\rexamples\r#\r\r这里存放一些精简化的后端功能接口，玩家可通过这些运行案例迅速了解服务间的层级关系以及核心业务的实现逻辑。\nsrc/apis\r#\r\r存放全局接口函数，如一些复杂的脚手架接口逻辑会在此编排。\nsrc/database\r#\r\r存放系统运行缓存。在项目初始化后，此文件夹被自动创建。\nsrc/model\r#\r\r存放 YOLOv4 目标检测模型。在项目初始化后，此文件夹被自动创建。\nsrc/services\r#\r\r存放核心业务代码，包括如下内容：\n.\r├── bricklayer\r│ ├── __init__.py\r│ ├── core.py\r│ ├── bricklayer.py\r│ └── exceptions.py\r├── explorer\r│ ├── __init__.py\r│ ├── core.py\r│ ├── explorer.py\r│ └── exceptions.py\r├── utils\r│ ├── accelerator\r│ ├── armor\r│ ├── toolbox\r│ └── __init__.py\r├── __init__.py\r├── deploy.py\r├── scaffold.py\r└── settings.py\r  bricklayer\n搬瓦工核心业务代码，游戏认领。\n  explorer\n探索者核心业务代码，游戏发现。\n  utils\n可移植的 Toolkit 模组。\n  deploy.py\n系统级的任务调度中心。\n  scaffold.py\n系统脚手架。\n  settings.py\n系统核心设置。初始化日志中心，转义config.yaml 的全局变量，目录定位等。\n  src/config.yaml\r#\r\r项目配置文件。在项目初始化后，从 src/config_sample.yaml 拷贝生成。\nsrc/main.py\r#\r\r脚手架入口文件，作为运行根辐射系统指令。\n"},{"id":6,"href":"/epic-awesome-gamer/zh/docs/player/getting-started/configuration/","title":"项目配置","section":"开始使用","content":"项目配置\r#\r\r"},{"id":7,"href":"/epic-awesome-gamer/zh/docs/player/cli/deploy/","title":"Scaffold Deploy","section":"脚手架指令","content":"Scaffold Deploy\r#\r\rNAME\r#\r\rmain.py deploy - 部署系统定时任务\nSYNOPSIS\r#\r\rmain.py deploy \u0026lt;flags\u0026gt; DESCRIPTION\r#\r\r部署系统定时任务。\nUsage: python main.py deploy ______________________________________________________________________ or: python main.py deploy --collector=False |强制关闭采集器 or: python main.py deploy --collector |强制开启采集器 or: python main.py deploy --collector --decoupler |强制开启采集器和订阅解耦器 ______________________________________________________________________  初次部署前先运行 python main.py entropy --update 初始化远程队列。 命令行参数的优先级高于配置文件。 不使用参数启动时，相关配置以配置文件为准。  定时任务包括如下内容：\n collector： 采集器任务（与 overdue_job 捆绑）。 decoupler： 订阅解耦任务，用于清除失效订阅。  需要注意的是，配置文件中设定了默认的 launch_interval 任务发起间隔，玩家自定义的间隔数不得小于默认值，否则任务无法部署（或强制调回默认值启动）。\nFLAGS\r#\r\r  collector=COLLECTOR\n  Type: Optional[bool]\n  Default: None\n强制开启/关闭采集器\n    decoupler=DECOUPLER\n  Type: Optional[bool]\n  Default: None\n强制开启/关闭订阅解耦器\n    "}]